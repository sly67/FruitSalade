<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FruitSalade</title>
    <meta name="description" content="FruitSalade - Self-hosted file sync">
    <meta name="theme-color" content="#2563EB">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
</head>
<body>
    <a href="#app" class="skip-link">Skip to main content</a>
    <header id="topbar" class="hidden">
        <div class="topbar-brand">FruitSalade</div>
        <div class="topbar-search">
            <input type="text" id="global-search" placeholder="Search files..." aria-label="Search files">
        </div>
        <div class="topbar-notifications">
            <button id="notif-bell-btn" aria-label="Notifications" aria-expanded="false">&#128276;<span id="notif-badge" class="notif-badge hidden">0</span></button>
            <div id="notif-panel" class="notif-panel hidden" role="region" aria-label="Notifications"></div>
        </div>
        <div class="topbar-user">
            <button id="user-menu-btn" aria-label="User menu" aria-expanded="false"><span id="topbar-username"></span> &#9662;</button>
            <div id="user-dropdown" class="dropdown hidden" role="menu">
                <a href="#dashboard" role="menuitem"><span class="dropdown-icon">&#128200;</span> Dashboard</a>
                <a href="#" id="theme-toggle" role="menuitem"><span class="dropdown-icon">&#127769;</span> Dark Mode</a>
                <a href="#" id="topbar-logout" role="menuitem"><span class="dropdown-icon">&#128682;</span> Logout</a>
            </div>
        </div>
    </header>

    <div id="login-container" class="hidden"></div>

    <div id="layout" class="hidden">
        <aside id="sidebar">
            <nav class="sidebar-nav" aria-label="Main navigation">
                <a href="#browser" data-route="browser"><span class="nav-icon">&#128193;</span> Files</a>
                <a href="#dashboard" data-route="dashboard"><span class="nav-icon">&#128200;</span> Dashboard</a>
                <a href="#versions" data-route="versions"><span class="nav-icon">&#128338;</span> File Management</a>
                <a href="#gallery" data-route="gallery"><span class="nav-icon">&#127912;</span> Gallery</a>
                <a href="#favorites" data-route="favorites"><span class="nav-icon">&#11088;</span> Favorites</a>
                <a href="#shares" data-route="shares"><span class="nav-icon">&#128279;</span> Shares</a>
                <a href="#trash" data-route="trash"><span class="nav-icon">&#128465;</span> Trash</a>
                <a href="#help" data-route="help"><span class="nav-icon">&#10067;</span> Help</a>
                <div class="sidebar-admin hidden" id="sidebar-admin">
                    <div class="sidebar-section-label">Admin</div>
                    <a href="#users" data-route="users"><span class="nav-icon">&#128100;</span> Users</a>
                    <a href="#groups" data-route="groups"><span class="nav-icon">&#128101;</span> Groups</a>
                    <a href="#storage" data-route="storage"><span class="nav-icon">&#128190;</span> Storage</a>
                    <a href="#gallery-plugins" data-route="gallery-plugins"><span class="nav-icon">&#127912;</span> Gallery Plugins</a>
                    <a href="#admin-shares" data-route="admin-shares"><span class="nav-icon">&#128279;</span> Share Links</a>
                    <a href="#settings" data-route="settings"><span class="nav-icon">&#9881;</span> Settings</a>
                </div>
            </nav>
            <div id="sidebar-tree"></div>
        </aside>
        <main id="app"></main>
        <aside id="detail-panel" class="hidden"></aside>
    </div>

    <nav id="tab-bar" class="hidden" aria-label="Mobile navigation">
        <a href="#browser" data-route="browser"><span class="tab-icon">&#128193;</span><span class="tab-label">Files</span></a>
        <a href="#dashboard" data-route="dashboard"><span class="tab-icon">&#128200;</span><span class="tab-label">Dashboard</span></a>
        <a href="#versions" data-route="versions"><span class="tab-icon">&#128338;</span><span class="tab-label">File Mgmt</span></a>
        <a href="#gallery" data-route="gallery"><span class="tab-icon">&#127912;</span><span class="tab-label">Gallery</span></a>
        <a id="tab-more" href="#"><span class="tab-icon">&#8943;</span><span class="tab-label">More</span></a>
    </nav>

    <script src="js/api.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/views/login.js"></script>
    <script src="js/views/tree.js"></script>
    <script src="js/views/browser.js"></script>
    <script src="js/views/viewer.js"></script>
    <script src="js/views/versions.js"></script>
    <script src="js/views/shares.js"></script>
    <script src="js/views/dashboard.js"></script>
    <script src="js/views/users.js"></script>
    <script src="js/views/admin-shares.js"></script>
    <script src="js/views/groups.js"></script>
    <script src="js/views/storage.js"></script>
    <script src="js/views/gallery.js"></script>
    <script src="js/views/gallery-plugins.js"></script>
    <script src="js/views/settings.js"></script>
    <script src="js/views/trash.js"></script>
    <script src="js/views/search.js"></script>
    <script src="js/views/share-download.js"></script>
    <script src="js/views/help.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <script src="js/views/map.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
